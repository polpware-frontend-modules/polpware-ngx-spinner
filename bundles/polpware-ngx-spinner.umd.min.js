!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@angular/core"),require("ngx-spinner")):"function"==typeof define&&define.amd?define("@polpware/ngx-spinner",["exports","@angular/core","ngx-spinner"],i):i(((e=e||self).polpware=e.polpware||{},e.polpware["ngx-spinner"]={}),e.ng.core,e.ngxSpinner)}(this,function(e,i,n){"use strict";var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])})(e,i)};function o(e,i){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,o,r=n.call(e),s=[];try{for(;(void 0===i||i-- >0)&&!(t=r.next()).done;)s.push(t.value)}catch(l){o={error:l}}finally{try{t&&!t.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return s}var r=500,s=function(){function e(e){this._underlyingSpinner=e,this._referenceCounter=0,this._showingTimer=null,this._showingDelay=r,this._dismissingTimer=null,this._spinnerState=!1,this.startToListenSpinner()}return e.prototype.startToListenSpinner=function(e){var i=this;void 0===e&&(e="primary"),this._underlyingSpinner.getSpinner("primary").subscribe(function(e){i._spinnerState=e.show})},e.prototype.setDelay=function(e){this._showingDelay=1e3*e},e.prototype.show=function(e,i){var n=this;if(void 0===e&&(e="Loading ..."),void 0===i&&(i="primary"),console.log("Asked to show spinner..."),this._referenceCounter++,this._spinnerState)return console.log("show --- one has been scheduled"),void(this._dismissingTimer&&(console.log("show --- cleaning out dismisming timer"),clearTimeout(this._dismissingTimer),this._dismissingTimer=0));this._dismissingTimer&&(console.log("show --- cleaning out dismisming timer (2)"),clearTimeout(this._dismissingTimer),this._dismissingTimer=0),this._showingTimer?console.log("show --- already scheduled one"):this._showingTimer=setTimeout(function(){console.log("show --- run"),n._showingTimer=null,n._underlyingSpinner.show(i)},this._showingDelay)},e.prototype.hide=function(e){var i=this;if(void 0===e&&(e="primary"),this._referenceCounter--,!(this._referenceCounter>0))return this._showingTimer?(console.log("hide --- remove the show scheduler"),this._showingTimer=null,void clearTimeout(this._showingTimer)):this._dismissingTimer?(console.log("hide --- already shceduled"),clearTimeout(this._dismissingTimer),void(this._dismissingTimer=setTimeout(function(){i._dismissingTimer=null,i._underlyingSpinner.hide()},300))):void(this._spinnerState&&(console.log("hide --- schedule"),this._dismissingTimer=setTimeout(function(){i._dismissingTimer=null,i._underlyingSpinner.hide(e)},300)));console.log("hide --- reference counter still greater than 0")},e.decorators=[{type:i.Injectable}],e.ctorParameters=function(){return[{type:n.NgxSpinnerService}]},e}();var l=function(){function e(){}return e.prototype.show=function(){},e.prototype.hide=function(){},e.prototype.setDelay=function(e){},e}();e.NullSpinner=l,e.SpinnerServiceImpl=s,e.loadingIndicatorDecorator=function(e){return function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,e),i.prototype.showLoadingIndicator=function(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];(e=this.spinner).show.apply(e,function(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(o(arguments[i]));return e}(i))},i.prototype.hideLoadingIndicator=function(){this.spinner.hide()},i.prototype.setLoadingIndicatorDelay=function(e){this.spinner.setDelay(e)},i}(e)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polpware-ngx-spinner.umd.min.js.map